## 교차검증 방법
* 기본적인 교차검증 방법은 시간축과 강한 상관관계를 가짐 -> 그래서 기본적인 방식 X

#### walk-forward
* 1-3월 학습 -> 4월 평가, 1-4월 학습 -> 5월 평가 ,,,,
* timesplit() 사용
* **data leakage**(training 데이터 밖에 있는 데이터가 모델을 만드는데 사용됨) 발생

#### blocking walk-forward
* 훈련 데이터셋 사이에 마진을 설정

![image](https://user-images.githubusercontent.com/123862973/215316301-d7128b76-f3b6-4263-82f4-364706ef7954.png)

#### 엠바고와 퍼징
* 퍼징
  - 훈련 데이터들 사이에 테스트 데이터 셋 만듬
  - 훈련 데이터와 테스트 데이터 사이에 마진 존재
* 엠바고 
  - 훈련 데이터들 사이에 테스트 데이터 셋 만듬
  - 훈련 데이터와 테스트 데이터 사이에 마진 존재
  - 테스트 데이터 앞보다 뒤에 마진이 더 큼

![image](https://user-images.githubusercontent.com/123862973/215316502-afb33985-476a-460d-a9ab-28dbd1be669c.png)

#### 정답은 없음... 휴리스틱하게 해볼 수 밖에 없음


## 금융 데이터 전처리
#### 일반적인 전처리
* 벡터화, 정규화, 결측치 다루기, 특성 추출

#### 금융 데이터 특징
* 노이즈 심함
* 특성 수에 비해 시계열 데이터 길이 짧음
* 기하 브라운 모형 가정 (https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=chunjein&logNo=100188340479)


## 노이즈 제거
* 불필요한 노이즈 없앰 - 중요한 정보 주목
* Ex. 차원 축소, 정보 압축

#### 이동평균 
* 며칠간의 주가를 평균

#### 지수이동평균
* 최근 가격에 더 큰 가중치를 줌

#### 웨이블릿 변환 (wavelet transform)
* 웨이블린 기저함수를 이용해 데이터를 변환
* 웨이블린 기저함수 
    - 적분하면 0
    - 진동하면서 진폭이 0으로 수렴
 
![image](https://user-images.githubusercontent.com/123862973/215337003-693a9a90-0c7d-4914-8608-b5b1122330b6.png)

* 웨이블릿 변환을 통해 고주파(세부적인 정보)와 저주파(전반적인 내용)으로 나눔
* 저주파는 지속적으로 나눔

#### PCA
* 장점 : 주성분만으로 표현 가능 - 복잡한 특성, 부차적인 요소 제거 가능
* 단점 : 모델의 해석력 bad - 금융데이터에서는 선호 X

#### SAE(Stacked 오토인코더)
* 히든레이어 + 오토인코더
* 노이즈 제거에 효과적임



## 평가지표
* 만약 주가가 오르는 횟수가 65개, 내려가는 횟수가 35개이다. 오른다를 1, 내린다를 0으로 라벨링하고 평가지표를 정확도로만 두면 무조건 오른다라고 예측할 것이다.
* 그래서 다른 평가지표를 사용해야한다.

